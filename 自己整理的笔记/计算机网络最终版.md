# TCP/IP四层模型和OSI七层模型

# 同一个网段下的主机如何通信  不同网段下的主机如何通信

两台同网段主机通信；必须知道双方的mac地址就可以了。当主机A想给主机B发送数据，如何才能知道主机B的mac地址呢？通过一个叫ARP的网络协议，广播询问同网段下的主机，对应主机单播回应；对应主机收到回应后会将该MAC地址加入ARP缓存表；

不同网段：获取ip-》路由器寻址

# 三次握手

## 过程

## 必要性

- 三次握手是为了防止 已失效的链接请求报文突然又传送到了服务端，因而产生错误。

- 客户端和服务端都确认了自己的接收、发送能力是正常的。

### 能不能两次

### 如果第三次没收到会怎么样

# 四次挥手

## 过程

### 如果服务端主动关闭，那么流程是怎样的？

## 必要性

- 客户端不发送数据不代表服务端不发送数据，因此Server回复ACK之后，表示我收到你的消息了，你不会发送消息了，但是直到服务端发送FIN字段才表示Server不发送消息。

# 滑动窗口

# 拥塞控制

- **慢启动**：不要一开始发送大量的数据，先探测一下网络的拥塞程度，也就是说从小到大逐渐增加拥塞窗口
- **拥塞避免**：拥塞避免算法让拥塞窗口缓慢增长，即每经过一个往返时间RTT就把发送方的拥塞窗口cwnd加1，而不是加倍，这样拥塞窗口按线性规律缓慢增长。
- 快重传：快重传要求接收方在收到一个 失序的报文段 后就立即发出 重复确认（为的是使发送方及早知道有报文段没有到达对方）而不要等到自己发送数据时捎带确认。快重传算法规定，发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段，而不必继续等待设置的重传计时器时间到期。
- 快恢复：快重传配合使用的还有快恢复算法，当发送方连续收到三个重复确认时，就执行“乘法减小”算法，把ssthresh门限减半，但是接下去并不执行慢开始算法：因为如果网络出现拥塞的话就不会收到好几个重复的确认，所以发送方现在认为网络可能没有出现拥塞。所以此时不执行慢开始算法，而是将cwnd设置为ssthresh的大小，然后执行拥塞避免算法。

## 为什么连续收到3个ack说明网络拥塞了

# TCP保证传输的可靠性（TCP的安全性）

- 数据包校验：如果校验数据包出错，丢弃报文段不给予响应的信息
- 对于失序数据包重排序：既然TCP报文段作为IP数据包来传输，而IP数据包的倒带可能会时许，因此会在本层排序后才会交给应用层
- 丢弃重复数据
- 超时重发：当TCP发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段；
- 流量控制：TCP连接的每一方都有固定大小的缓冲空间。TCP的接收端只允许另一端发送接收端缓冲区所能接纳的数据，这可以防止较快主机致使较慢主机的缓冲区溢出，这就是流量控制。TCP使用的流量控制协议是可变大小的滑动窗口协议。

# TCP粘包和拆包，如何解决

# TCP和UDP的区别

- TCP是面向连接的，UDP是无连接的；
- TCP是可靠的，UDP是不可靠的；
- TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多的通信模式；
- TCP是面向字节流的，UDP是面向报文的；
- TCP有拥塞控制机制;UDP没有拥塞控制，适合媒体通信；
- TCP首部开销20个字节20个字节比UDP的首部开销8个字节8个字节要大；

# 如何使UDP传输可靠

- 1、添加seq/ack机制，确保数据发送到对端

- 2、添加发送和接收缓冲区，主要是用户超时重传。

- 3、添加超时重传机制。

# UDP是全双工的吗

# 浏览器长时间加载不出页面原因

# http状态码

## 404和503的区别

# http建立连接和传输的过程

# http的缺点

- 通信使用明文

  通信使用明文意味着安全性大大降低，当通信过程被窃听后，无需花费额外的投入就可看到传输的数据。例如使用抓包工具，无需任何配置就可查看任何使用HTTP协议的通信数据；

- 不验证通信方身份

  不验证通信方的身份，将导致通信过程被窃听后，可能会遭遇伪装，例如使用抓包工具抓取数据后，就可按照数据包的格式构造HTTP请求；

- 无法验证报文的完整性

  不验证报文的完整性，**数据在传输过程中就可能被篡改**，本来想看喜洋洋呢，结果数据在传输过程中被换成了光头强。

# https为什么是安全的

# https过程

# https和http有哪些不同点

# http的close_wait状态

# http2.0相比1.0的改进，http3.0

# HTTP是哪一层的协议，用TCP传输还是用UDP传输

## http可以用udp传输吗

# 上传视频用了什么协议，在哪一层

# get post区别

# Http 粘包 拆包

# 有网络层的IP协议为什么还需要传输层？

# http短连接和长连接的区别

# https是怎么实现的

# 网址输入过程

# cookie和session，是否安全

# 对称加密和非对称加密

# DNS解析流程

# socket为什么会阻塞

# IP有了解吗？和TCP区别？解决的问题分别是什么？

